
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>my nav </title>

</head>   
<body>   
<input type="file" name="contractFileName" id="updownpic" style="width: 500px;" onchange="fileChange(this);"/>   


<br><hr>
<div class="upimg_box clearfix">
    <ul class="fl" id="imgs">
    </ul>
    <div class="up_btn" id="img_add" >
      <input type="file" single files="single" action="new_question" accept="image/*" id="imgFile" name="imgFile"  onchange="fileChange(this);"/>
    </div>
  </div>



<script type="text/javascript" src="js/jquery/jquery-2.1.1.js"></script>
<script type="text/javascript">   
       //var ss=$("#updownpic").var();
  $(function(){
    function ddd(){
    var dom = document.getElementById(fileId);  
    var fileSize =  dom.files[0].size;//文件的大小，单位为字节B
    console.log();
    }
  });
       

  var isIE = /msie/i.test(navigator.userAgent) && !window.opera;         
  function fileChange(target) {     

    var fileSize = 0;
    if (isIE && !target.files) {      
      var filePath = target.value;      
      var fileSystem = new ActiveXObject("Scripting.FileSystemObject");         
      var file = fileSystem.GetFile (filePath);      
      fileSize = file.Size;     
    } else {     
     fileSize = target.files[0].size;      
     }    
     var size = (fileSize / 1024)/1024;    
     console.info("上传图片的大小为："+size) 
     if(size>1){   
      alert("附件不能大于1M");
      //阻止上传 remover 
      $("input").click(function(){
        $(this).parent().remove();
      alert(size);
      }).trigger("click");



     }
}
</script> 
</body>   
</html>  